<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<title>Embed WW in HTML page</title>
	<meta name="generator" content="BBEdit 11.0" />
	<link href="https://demo.webwork.rochester.edu/webwork2_files/css/knowlstyle.css" rel="stylesheet" type="text/css" />
	<link href="https://demo.webwork.rochester.edu/webwork2_files/js/apps/MathView/mathview.css" rel="stylesheet" />

	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
	<script>
	$(document).ready(function(){
		$( ".clickme" ).click(function() {
		  $( this).next().slideToggle( "slow", function() {
			// Animation complete.
		  });
		});

	   // jQuery methods go here...
	});
	</script>
	<style>
		.clickme {background-color: #FFccFF ;}
		iframe {
			margin-left: 20px;
			padding-left: 10px;
		}
		.ww_problem {background-color: #ccFFFF       }
	</style>
<!-- insertWebserviceIframe(options, url,width, height) -->
<script>
    // formulates an iframe and query string that grabs problem contents from webwork webservice
    // allows default values to be provided by sessionStorage if available
	 
	function insertWebserviceIframe(options, 
		url="https://demo.webwork.rochester.edu", 
		width="800",
		height="400"){
		var str = `<iframe width = "${width}" height = "${height}" src="${url}/webwork2/html2xml?`;
		console.log("courseID: " + sessionStorage.getItem("courseID") + " userID: " 
		     +sessionStorage.getItem("userID") + " course_password: " 
		     + sessionStorage.getItem("course_password"));
        // check if sessionStorage is available
	    options["courseID"]=sessionStorage.getItem("courseID");
	    options["userID"]=sessionStorage.getItem("userID");
	    options["course_password"]=sessionStorage.getItem("course_password");
	
		for (var key in options ){
			str += ("&" + key + "=" + options[key]);
		}
		str +='"></iframe><br/>';
		return (str); 
		//src="http://demo.webwork.rochester.edu/webwork2/html2xml?&answersSubmitted=0&sourceFilePath=Library/Union/setIntFTC/sc5_4_13.pg&problemSeed=123567&courseID=daemon_course&userID=daemon&course_password=daemon&showSummary=1&displayMode=MathJax&problemIdentifierPrefix=102&language=en&outputformat=sticky"></iframe><br/>');
	};
</script>
<script type="text/javascript">
	$(document).ready(function(){
	 $(".ww_problem").click(function(){
	     // because none of the useful values for this are 0 we can use || as undefined-or //
	     // in specifying default values. 
	     // precedence is: first div, then storage and finally static default value (if any)
	     var site_url = sessionStorage.getItem("site_url");
	     var width = $(this).attr("data-width")||sessionStorage.getItem('width')||800;
	     var height = $(this).attr("data-height")||sessionStorage.getItem('height')||400;
	     var problem_format = $(this).attr("data-problem_format")||sessionStorage.getItem('problem_format')||'sticky';
	     var problem_path = $(this).attr("data-problem_path");
	     // enforce that 0 or "" is NOT a valid value for these two variables: 
	     var problem_seed = $(this).attr("data-problem_seed")|| sessionStorage.getItem('problem_seed')|| 1234567;
	     var problemUUID = $(this).attr("data-problemUUID")  || sessionStorage.getItem(problemUUID) || 1;
		 $(this).html( insertWebserviceIframe({
			"answersSubmitted" : "0",
			"sourceFilePath" : problem_path,
			"problemSeed" : problem_seed,
			"courseID" : "daemon_course",
			"userID" : "daemon",
			"course_password" : "daemon!",	
			"showSummary" : "1",
			"displayMode" : "MathJax",
			"problemIdentifierPrefix" : problemUUID,
			"language" : "en",
			"outputformat" : problem_format,
		  }, //options argument for inserWebworkIframe
		  site_url, width, height
		 ) // end arguments for insertWebworkIframe
		);
	   })
	});
</script>
<!-- need tricks from password_entry_form ????-->

</head>
<body>
<h1>Example of embedding WeBWorK problems in HTML pages. </h1>
<h2>Problem 1</h2>
<p>
This problem will help you to understand averages. 
</p>
<div class="clickme">
  Click here to show problem1
</div>
<div class="wwproblem" style="display: none;">
</div>
<div><hr>

<hr>
</div>

<h2>Problem 2</h2>
<p>
This problem gives you practice finding tangents to curves in the plane.
</p>

<div class="clickme">
  Click here to show problem 2
</div>
<div class="wwproblem" style="display: none;">
<hr>
<iframe  width="800" height="600" 
src="https://demo.webwork.rochester.edu/webwork2/html2xml?
	&answersSubmitted=0
	&sourceFilePath=Library/Utah/Calculus_I/set5_The_Derivative/1210s5p17/1210s5p17.pg
	&problemSeed=123567
	&displayMode=MathJax
	&courseID=daemon_course
	&userID=daemon
	&course_password=daemon
	&outputformat=simple">
</iframe>
<hr>
</div>


<div class="clickme">
  Click here to show problem 5 
</div>
<div class="ww_problem" data-problem_path="Library/Union/setIntFTC/sc5_4_13.pg" data-problem_seed="234" >
clicktoshow</div>

<div class="clickme">
  Click here to show problem 6 
</div>
<div  data-problem_path="Library/Union/setSeriesTaylor/ur_sr_9_6.pg" data-problem_seed="321"
      class="ww_problem">clickhere<h2>Click to see problem 6</h2>
</div>
</body>
</html>
